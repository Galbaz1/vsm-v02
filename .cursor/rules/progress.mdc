---
description: "Current project state - updated after fixes"
alwaysApply: true
---

# Current Progress

## Recent Fixes (keep max 5)

| Date | Issue | Fix | File |
|------|-------|-----|------|
| 2025-11-26 | Hybrid search was sequential (slow) | Made parallel with asyncio.gather() | `api/services/tools/search_tools.py` |
| 2025-11-26 | LLM rarely chose hybrid_search | Updated prompt to prefer hybrid for tables/complex queries | `api/services/llm.py` |
| 2024-11-26 | Table content stripped during ingestion | Fixed regex order in clean_content() | `scripts/weaviate_ingest_manual.py` |
| 2024-11-26 | Vector search missed tables | Changed to hybrid search (vector + BM25) | `api/services/search.py` |
| 2024-11-26 | LLM filtered by chunk_type="text" | Removed chunk_type param from tool | `api/services/tools/search_tools.py` |

## Known Issues

| Issue | Location | Impact |
|-------|----------|--------|
| Hardcoded paths | `visual_tools.py:194,390` | Breaks on non-lab machines |
| Empty config.py | `api/core/config.py` | Missing VSM_MODE, provider settings |

## Active Migration

**Cloud Migration in Progress** - See `TODO.md` and `docs/cloud-migration/`
- Phase 3: Provider Layer (next)
- Goal: `VSM_MODE=local|cloud` toggle

## Last Benchmark

```
Date: 2024-11-26
Status: Pending re-run after fixes
```

---

**Note to Coding Agent:** After successful fix, update this file:
1. Add new fix to table (remove oldest if > 5)
2. Update "Last Benchmark" if you ran one
3. Add to "Known Issues" if something is still broken
